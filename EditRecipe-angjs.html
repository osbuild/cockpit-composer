<!DOCTYPE html>
<html class="layout-pf layout-pf-fixed" ng-app="recipe">

<head>
	<meta charset=“utf-8”>
	<meta http-equiv=“X-UA-Compatible” content=“IE=edge”>
	<meta name=“viewport” content=“width=device-width, initial-scale=1.0”>
	<title>Red Hat Composer</title>
	<!-- PatternFly Styles -->
	<link rel="stylesheet" href="dist/css/rcue.min.css" />
	<!-- Angular-PatternFly Styles -->
	<link rel="stylesheet" href="node_modules/angular-patternfly/dist/styles/angular-patternfly.min.css" />
	<link rel="stylesheet" href="dist/css/rcue-additions.min.css" />
	<link rel="stylesheet" href="custom.css" />

	<!-- jQuery -->
	<script src="node_modules/jquery/dist/jquery.js"></script>

	<!-- Bootstrap JS -->
	<script src="node_modules/bootstrap/dist/js/bootstrap.js"></script>
	<!-- Bootstrap Combobox -->
	<script src="node_modules/patternfly-bootstrap-combobox/js/bootstrap-combobox.js"></script>
	<!-- Bootstrap Date Picker -->
	<script src="node_modules/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>
	<!-- Bootstrap Select -->
	<script src="node_modules/bootstrap-select/dist/js/bootstrap-select.min.js"></script>

	<!-- Bootstrap Tree View -->
	<script src="node_modules/patternfly-bootstrap-treeview/dist/bootstrap-treeview.min.js"></script>

	<!-- C3, D3 - Charting Libraries -->
	<script src="node_modules/c3/c3.min.js"></script>
	<script src="node_modules/d3/d3.min.js"></script>

	<!-- Patternfly Custom Componets -  Sidebar, Popovers and Datatables Customizations -->
	<!-- Note: jquery.dataTables.js must occur in the html source before patternfly*.js.-->
	<script src="node_modules/patternfly/dist/js/patternfly.js"></script>

	<!-- Angular-PatternFly  -->
	<script src="node_modules/angular/angular.js"></script>
	<script src="node_modules/angular-sanitize/angular-sanitize.js"></script>
	<script src="node_modules/angular-animate/angular-animate.js"></script>
	<script src="node_modules/angular-ui-bootstrap/dist/ui-bootstrap-tpls.js"></script>
	<script src="node_modules/angular-patternfly/dist/docs/js/angular-bootstrap-prettify.js"></script>
  <script src="node_modules/lodash/lodash.min.js"></script>

	<script src="node_modules/angular-patternfly/dist/angular-patternfly.min.js"></script>


	<!-- Datatables, jQuery Grid Component -->
	<!-- Note: jquery.dataTables.js must occur in the html source before patternfly*.js.-->
	<script src="node_modules/datatables/media/js/jquery.dataTables.js"></script>
	<script src="node_modules/drmonty-datatables-colvis/js/dataTables.colVis.js"></script>
	<script src="node_modules/datatables.net-colreorder/js/dataTables.colReorder.js"></script>

  <script src="composer-api.js"></script>
  <script src="EditRecipe.js"></script>

<style>
	.text-right strong {float:left;}

</style>

</head>
<body ng-controller="ToastNotificationListDemoCtrl">

	<div class="toast-notifications-list-pf" >

		<div pf-toast-notification-list notifications="notifications" show-close="showClose"
			close-callback="handleClose" update-viewing="updateViewing"></div>

		<!-- <div pf-toast-notification notification-type="{{type}}" header="{{header}}" message="{{message}}"
	       show-close="{{showClose}}" close-callback="closeCallback"
	       action-title="{{primaryAction}}" action-callback="handleAction"
	       menu-actions="menuActions">
	  </div> -->
		<div class="toast-pf alert alert-info alert-dismissable hidden" id="cmpsr-toast-process-compos">
			<button type="button" class="close" data-dismiss="alert" aria-hidden="true">
		    <span class="pficon pficon-close"></span>
		  </button>
		  <div class="pull-right toast-pf-action">
		    <a href="#">Cancel</a>
		  </div>
		  <span class="pficon"><div class="spinner spinner-inverse"></div></span>
		  <strong>Recipe Y:</strong> Creating composition.
		</div>

		<div class="toast-pf alert alert-success alert-dismissable hidden" id="cmpsr-toast-success-compos">
		  <button type="button" class="close" data-dismiss="alert" aria-hidden="true">
		    <span class="pficon pficon-close"></span>
		  </button>
			<div class="pull-right toast-pf-action">
				<a href="#" id="cmpsr-download-link">Download (.iso)</a>
			</div>
		  <span class="pficon pficon-ok"></span>
		  <strong>Recipe Y:</strong> Composition creation is complete.
		</div>

	</div>

	<nav class="navbar navbar-pf-vertical">
	  <div class="navbar-header">
	    <button type="button" class="navbar-toggle">
	      <span class="sr-only">Toggle navigation</span>
	      <span class="icon-bar"></span>
	      <span class="icon-bar"></span>
	      <span class="icon-bar"></span>
	    </button>
	    <a href="/" class="navbar-brand">
	      <!-- <img class="navbar-brand-icon" src="/assets/img/logo-alt.svg" alt=""/>--><img class="navbar-brand-name" src="assets/img/RHComposer-logo-header.svg" alt="Red Hat Composer" width="156"/>
	    </a>
	  </div>
	  <nav class="collapse navbar-collapse">
	    <ul class="nav navbar-nav">
	      <li><a href="#" target="_blank" class="nav-item-iconic nav-item-iconic-new-window"><span title="Launch" class="fa fa-external-link"></span></a></li>
	    </ul>
	    <ul class="nav navbar-nav navbar-right navbar-iconic">
	      <li class="dropdown">
	        <a class="dropdown-toggle nav-item-iconic" id="notifications" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
	          <span title="Notifications" class="fa pficon-flag"></span>
	          <span class="badge">2</span>
	        </a>
	        <div class="dropdown-menu infotip bottom-right">
	          <div class="arrow"></div>
	          <ul class="list-group">
	            <li class="list-group-item">
	              <span class="i pficon pficon-info"></span> Modified Datasources ExampleDS
	            </li>
	            <li class="list-group-item">
	              <span class="i pficon pficon-info"></span> Error: System Failure
	            </li>
	          </ul>
	          <div class="footer">
	            <a>Clear Messages</a>
	          </div>
	        </div>
	      </li>
	      <li class="dropdown">
	        <a class="dropdown-toggle nav-item-iconic" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
	          <span title="Help" class="fa pficon-help"></span>
	          <span class="caret"></span>
	        </a>
	        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
	          <li><a href="#">Help</a></li>
	          <li><a href="#">About</a></li>
	        </ul>
	      </li>
	      <li class="dropdown">
	        <a class="dropdown-toggle nav-item-iconic" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
	          <span title="Username" class="fa pficon-user"></span>
	          <span class="caret"></span>
	        </a>
	        <ul class="dropdown-menu" aria-labelledby="dropdownMenu2">
	          <li><a href="#">Preferences</a></li>
	          <li><a href="#">Logout</a></li>
	        </ul>
	      </li>
	    </ul>
	  </nav>
	</nav> <!--/.navbar-->

	<div class="nav-pf-vertical
	     nav-pf-vertical-with-sub-menus hide-nav-pf">
	  <ul class="list-group">
	    <li class="list-group-item">
	      <a>
	        <span class="fa fa-dashboard" data-toggle="tooltip" title="Dashboard"></span>
	        <span class="list-group-item-value">Dashboard</span>
	      </a>
	    </li>
			<li class="list-group-item active">
	      <a>
	        <span class="fa fa-birthday-cake" data-toggle="tooltip" title="Recipes"></span>
	        <span class="list-group-item-value">Recipes</span>
	      </a>
	    </li>
	    <li class="list-group-item">
	      <a>
	        <span class="fa fa-shield" data-toggle="tooltip" title="Dolor"></span>
	        <span class="list-group-item-value">Dolor</span>
	      </a>
	    </li>
	    <li class="list-group-item secondary-nav-item-pf" data-target="#ipsum-secondary">
	      <a>
	        <span class="fa fa-space-shuttle" data-toggle="tooltip" title="Ipsum"></span>
	        <span class="list-group-item-value">Ipsum</span>
	      </a>
	      <div id="-secondary" class="nav-pf-secondary-nav">
	  			<div class="nav-item-pf-header">
	    			<a class="secondary-collapse-toggle-pf" data-toggle="collapse-secondary-nav"></a>
	    			<span>Ipsum</span>
	  			</div>
	  			<ul class="list-group">
				    <li class="list-group-item active " data-target="#ipsum-intellegam-tertiary">
				      <a>
				        <span class="list-group-item-value">Intellegam</span>
				      </a>

				    </li>
				    <li class="list-group-item " data-target="#ipsum-copiosae-tertiary">
				      <a>
				        <span class="list-group-item-value">Copiosae</span>
				      </a>

				    </li>
				    <li class="list-group-item " data-target="#ipsum-patrioque-tertiary">
				      <a>
				        <span class="list-group-item-value">Patrioque</span>
				      </a>

				    </li>

				  </ul>
				</div>
	    </li>
	    <li class="list-group-item secondary-nav-item-pf" data-target="#amet-secondary">
	      <a>
	        <span class="fa fa-paper-plane" data-toggle="tooltip" title="Amet"></span>
	        <span class="list-group-item-value">Amet</span>
	      </a>

	      <div id="amet-secondary" class="nav-pf-secondary-nav">
				  <div class="nav-item-pf-header">
				    <a class="secondary-collapse-toggle-pf" data-toggle="collapse-secondary-nav"></a>
				    <span>Amet</span>
				  </div>
				  <ul class="list-group">
				    <li class="list-group-item " data-target="#amet-detracto-tertiary">
				      <a>
				        <span class="list-group-item-value">Detracto</span>



				      </a>

				    </li>
				    <li class="list-group-item " data-target="#amet-mediocrem-tertiary">
				      <a>
				        <span class="list-group-item-value">Mediocrem</span>



				      </a>

				    </li>
				    <li class="list-group-item " data-target="#amet-corrumpit-tertiary">
				      <a>
				        <span class="list-group-item-value">Corrumpit</span>



				      </a>

				    </li>

				  </ul>
				</div>
	    </li>
	    <li class="list-group-item">
	      <a>
	        <span class="fa fa-graduation-cap" data-toggle="tooltip" title="Adipscing"></span>
	        <span class="list-group-item-value">Adipscing</span>
	      </a>
	    </li>
	    <li class="list-group-item">
	      <a>
	        <span class="fa fa-gamepad" data-toggle="tooltip" title="Lorem"></span>
	        <span class="list-group-item-value">Lorem</span>
	      </a>
	    </li>
	  </ul>
	</div>
	<div class="container-fluid container-pf-nav-pf-vertical container-pf-nav-pf-vertical-with-sub-menus   ">
		<ol class="breadcrumb">
		  <li>
		    <a href="Recipes.html">Back to Recipes</a>
		  </li>
		  <li>
		    <a href="RecipeView.html">Recipe Y</a>
		  </li>
		  <li class="active"> <strong>Edit Recipe</strong>
		  </li>
		</ol>
		<div class="row">
			<!-- begin Edit Recipe contents -->
			<div class="col-sm-9 col-md-9 col-sm-push-3 col-md-push-3">
				<div class="row toolbar-pf">
						<div class="col-sm-12">
							<form class="toolbar-pf-actions">
								<div class="form-group toolbar-pf-filter">
									<label class="sr-only" for="filter">Name</label>
									<div class="input-group">
										<div class="input-group-btn">
											<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Name <span class="caret"></span></button>
											<ul class="dropdown-menu">
												<li><a href="#">Name</a></li>
												<li><a href="#">Version</a></li>
												<li><a href="#">Release</a></li>
												<li><a href="#">Lifecycle</a></li>
												<li><a href="#">Support Level</a></li>
											</ul>
										</div><!-- /btn-group -->
										<input type="text" class="form-control" id="filter" placeholder="Filter By Name...">
									</div><!-- /input-group -->
								</div>
								<div class="form-group">
									<div class="dropdown btn-group">
										<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Name <span class="caret"></span></button>
										<ul class="dropdown-menu">
											<li><a href="#">Type</a></li>
											<li><a href="#">Name</a></li>
											<li><a href="#">Version</a></li>
											<li><a href="#">Release</a></li>
											<li><a href="#">Lifecycle</a></li>
											<li><a href="#">Support Level</a></li>
										</ul>
									</div>
									<button class="btn btn-link" type="button">
										<span class="fa fa-sort-alpha-asc"></span>
									</button>
								</div>
								<div class="form-group">
									<button class="btn btn-default" type="button" ng-click="notify()">Save</button>
									<button class="btn btn-default" id="cmpsr-btn-crt-compos" data-toggle="modal" data-target="#cmpsr-modal-crt-compos" type="button">Create Composition</button>
									<div class="dropdown btn-group  dropdown-kebab-pf">
										<button class="btn btn-link dropdown-toggle" type="button" id="dropdownKebab" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
											<span class="fa fa-ellipsis-v"></span>
										</button>
										<ul class="dropdown-menu " aria-labelledby="dropdownKebab">
											<li><a href="#">Export Recipe</a></li>
										</ul>
									</div>

								</div>
								<div class="toolbar-pf-action-right">
									<div class="form-group toolbar-pf-find">
										<button class="btn btn-link btn-find" type="button">
											<span class="fa fa-search"></span>
										</button>
										<div class="find-pf-dropdown-container">
											<input type="text" class="form-control" id="find" placeholder="Find By Keyword...">
											<div class="find-pf-buttons">
												<span class="find-pf-nums">1 of 3</span>
												<button class="btn btn-link" type="button">
													<span class="fa fa-angle-up"></span>
												</button>
												<button class="btn btn-link" type="button">
													<span class="fa fa-angle-down"></span>
												</button>
												<button class="btn btn-link btn-find-close" type="button">
													<span class="pficon pficon-close"></span>
												</button>
											</div>
										</div>
									</div>
									<div class="form-group toolbar-pf-view-selector">
										<button class="btn btn-link" title="Table View"><i class="fa fa-th"></i></button>
										<button class="btn btn-link " title="Tree View"><i class="pficon pficon-topology"></i></button>
										<button class="btn btn-link active" title="List View"><i class="fa fa-th-list"></i></button>
									</div>
								</div>
							</form>
							<div class="row toolbar-pf-results toolbar-pf-results-none">
								<div class="col-sm-12" style="display:none;">
									<h5>40 Results</h5>
									<p>Active filters:</p>
									<ul class="list-inline">
										<li>
											<span class="label label-info">
												Name: nameofthething
												<a href="#"><span class="pficon pficon-close"></span></a>
											</span>
										</li>
										<li>
											<span class="label label-info">
												Version: 3
												<a href="#"><span class="pficon pficon-close"></span></a>
											</span>
										</li>
										<li>
											<span class="label label-info">
												Lifecycle: 5
												<a href="#"><span class="pficon pficon-close"></span></a>
											</span>
										</li>
									</ul>
									<p><a href="#">Clear All Filters</a></p>
								</div><!-- /col -->
							</div><!-- /row -->
						</div><!-- /col -->
				</div>
				<script>
					(function($) {
						$(document).ready(function() {
								// Upon clicking the find button, show the find dropdown content
								$(".btn-find").click(function () {
									$(".find-pf-dropdown-container").hide();
									dropdown = $(this).parent(".toolbar-pf-find").find(".find-pf-dropdown-container");
									$(dropdown).toggle();
								});
								// Upon clicking the find close button, hide the find dropdown content
								$(".btn-find-close").click(function () {
									$(".find-pf-dropdown-container").hide();
								});

							});
						})(jQuery);
				</script>
				<div class="blank-slate-pf">
				  <div class="blank-slate-pf-icon">
				    <span class="pficon pficon pficon-add-circle-o"></span>
				  </div>
				  <h1>
				    Add Recipe Components
				  </h1>
				  <p>
				    Browse or search for components, then add them to the recipe.
				  </p>
				  <p>
				    Learn more about this <a href="#">on the documentation</a>.
				  </p>
				  <!-- <div class="blank-slate-pf-main-action">
				    <button class="btn btn-primary btn-lg"> Main Action </button>
				  </div>
				  <div class="blank-slate-pf-secondary-action">
				    <button class="btn btn-default"> Secondary Action </button> <button class="btn btn-default"> Secondary Action </button> <button class="btn btn-default"> Secondary Action </button>
				  </div> -->
				</div>
				<div class="list-group-item hidden">
					<!-- <div class="list-view-pf-expand">
						<span class="fa fa-angle-right"></span>
					</div> -->
					<div class="list-view-pf-checkbox">
						<input type="checkbox">
					</div>
					<div class="list-view-pf-actions">
						<!-- <button class="btn btn-default">Action</button> -->
						<div class="dropdown pull-right dropdown-kebab-pf">
							<button class="btn btn-link dropdown-toggle" type="button" id="dropdownKebabRight9" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
								<span class="fa fa-ellipsis-v"></span>
							</button>
							<ul class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownKebabRight9">
								<li><a class="action-view-compon" href="#">View</a></li>
								<li><a class="action-update-compon" href="#">Update</a></li>
								<li role="separator" class="divider"></li>
								<li><a class="action-remove-compon" href="#">Remove</a></li>
							</ul>
						</div>

					</div>
					<div class="list-view-pf-main-info">
						<div class="list-view-pf-left">
							<span class="fa fa-cube list-view-pf-icon-sm" title="Module"></span>
						</div>
						<div class="list-view-pf-body">
							<div class="list-view-pf-description">
								<div class="list-group-item-heading">
									<a href="#" data-item="name"></a>
								</div>
								<div class="list-group-item-text" data-item="summary">
								</div>
							</div>
							<div class="list-view-pf-additional-info">
								<div class="list-view-pf-additional-info-item list-view-pf-additional-info-item-stacked">
									Version <strong data-item="version"></strong>
								</div>
								<div class="list-view-pf-additional-info-item list-view-pf-additional-info-item-stacked">
									Release<strong data-item="release"></strong>
								</div>
								<!-- <div class="list-view-pf-additional-info-item list-view-pf-additional-info-item-stacked">
									Install Profile<strong>Default</strong>
								</div> -->
								<div class="list-view-pf-additional-info-item list-view-pf-additional-info-item-stacked">
									Dependencies<strong data-item="requires"></strong>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="list-group list-view-pf list-view-pf-view hidden">
				</div>
			</div>
			<!-- end Edit Recipe contents -->
			<!-- begin Edit Recipe search sidebar -->
			<div class="col-sm-3 col-md-3 col-sm-pull-9 col-md-pull-9 sidebar-pf sidebar-pf-left">
				<div class="row toolbar-pf">
	          <div class="col-sm-12">
	            <form class="toolbar-pf-actions">
	              <div class="form-group toolbar-pf-filter">
	                <label class="sr-only" for="filter">Name</label>
	                <div class="input-group">
	                  <div class="input-group-btn">
	                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Name <span class="caret"></span></button>
											<ul class="dropdown-menu">
												<li><a href="#">Name</a></li>
												<li><a href="#">Version</a></li>
												<li><a href="#">Release</a></li>
												<li><a href="#">Lifecycle</a></li>
												<li><a href="#">Support Level</a></li>
											</ul>
	                  </div><!-- /btn-group -->
	                  <input type="text" class="form-control" id="filter" placeholder="Filter By Name...">
	                </div><!-- /input-group -->
	              </div>
	              <!-- <div class="form-group">
	                <div class="dropdown btn-group">
	                  <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Name <span class="caret"></span></button>
	                  <ul class="dropdown-menu">
	                    <li><a href="#">Action</a></li>
	                    <li><a href="#">Another action</a></li>
	                    <li><a href="#">Something else here</a></li>
	                    <li role="separator" class="divider"></li>
	                    <li><a href="#">Separated link</a></li>
	                  </ul>
	                </div>
	                <button class="btn btn-link" type="button">
	                  <span class="fa fa-sort-alpha-asc"></span>
	                </button>
	              </div> -->
	              <div class="toolbar-pf-action-right">
	                <div class="form-group toolbar-pf-find">
	                  <button class="btn btn-link btn-find" type="button">
	                    <span class="fa fa-search"></span>
	                  </button>
	                  <div class="find-pf-dropdown-container">
	                    <input type="text" class="form-control" id="find" placeholder="Find By Keyword...">
	                    <div class="find-pf-buttons">
	                      <span class="find-pf-nums">1 of 3</span>
	                      <button class="btn btn-link" type="button">
	                        <span class="fa fa-angle-up"></span>
	                      </button>
	                      <button class="btn btn-link" type="button">
	                        <span class="fa fa-angle-down"></span>
	                      </button>
	                      <button class="btn btn-link btn-find-close" type="button">
	                        <span class="pficon pficon-close"></span>
	                      </button>
	                    </div>
	                  </div>
	                </div>
	              </div>
	            </form>
							<div class="row toolbar-pf-results toolbar-pf-results-none">
	              <div class="col-sm-12">
	                <h5>40 Results</h5>
	                <p>Active filters:</p>
	                <ul class="list-inline">
	                  <li>
	                    <span class="label label-info">
	                      Name: nameofthething
	                      <a href="#"><span class="pficon pficon-close"></span></a>
	                    </span>
	                  </li>
	                  <li>
	                    <span class="label label-info">
	                      Version: 3
	                      <a href="#"><span class="pficon pficon-close"></span></a>
	                    </span>
	                  </li>
	                  <li>
	                    <span class="label label-info">
	                      Lifecycle: 5
	                      <a href="#"><span class="pficon pficon-close"></span></a>
	                    </span>
	                  </li>
	                </ul>
	                <p><a href="#">Clear All Filters</a></p>
	              </div><!-- /col -->
	            </div><!-- /row -->
						</div><!-- /col -->
	        </div>

				<!-- <div class="container-cards-pf">
					<div class="card-pf card-pf-view card-pf-view-xs">
						<div class="card-pf-body">
						<div class="card-pf-heading-kebab">
							<a href="#" class="add pull-right" data-toggle="tooltip" data-placement="top" title="" data-original-title="Add Component"><span class="pficon pficon-add-circle-o"></span></a>
							<h2 class="card-pf-title">
								Module Two
							</h2>
						</div>
						<p class="card-pf-info">Sed ut perspiciatis unde omnis iste. <a href="#">More info</a></p>
						<dl class="dl-horizontal">
							<dt>Version</dt>
							<dd>3</dd>
							<dt>Lifecycle</dt>
							<dd>5 Years</dd>
						</dl>
						</div>
					</div>
				</div> -->
				<div ng-controller="CardViewCtrl" class="row">
		      <!-- <div class="col-md-12"> -->
		        <div pf-card-view id="exampleCardView" config="config" items="items">

								<div class="card-pf-heading-kebab">
									<a href="#" class="action-add-compon pull-right" data-toggle="tooltip" data-placement="top" title="" data-original-title="Add Component"><span class="pficon pficon-add-circle-o"></span></a>
									<h2 class="card-pf-title" data-item="name">
			            	<span>{{item.name}}</span>
									</h2>
			          </div>
			          <div class="card-pf-info" data-item="summary">
			            <span>{{item.summary}}</span>
			          </div>
								<div class="hidden">
									<div data-item="version">{{item.version}}</div>
									<div data-item="release">{{item.release}}</div>
									<div data-item="requires">{{item.requires}}</div>
								</div>
		        </div>
		      <!-- </div> -->
				</div>
			</div>
			<!-- end Edit Recipe search sidebar -->
		</div>
	</div>
	<!-- begin create composition modal -->
	<div class="modal fade" id="cmpsr-modal-crt-compos" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	  <div class="modal-dialog">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
	          <span class="pficon pficon-close"></span>
	        </button>
	        <h4 class="modal-title" id="myModalLabel">Create Composition</h4>
	      </div>
	      <div class="modal-body">
	        <form class="form-horizontal">
	          <div class="form-group">
	            <label class="col-sm-3 control-label" for="textInput-modal-markup">Composition Type</label>
	            <div class="col-sm-9">
              <select id="cmpsr-composition-types">
              <!-- populated from the composer API -->
              </select>
							</div>
	          </div>
	          <div class="form-group">
	            <label class="col-sm-3 control-label" for="textInput2-modal-markup">Field Two</label>
	            <div class="col-sm-9">
	              <input type="text" id="textInput2-modal-markup" class="form-control"></div>
	          </div>
	          <div class="form-group">
	            <label class="col-sm-3 control-label" for="textInput3-modal-markup">Field Three</label>
	            <div class="col-sm-9">
	              <input type="text" id="textInput3-modal-markup" class="form-control">
	            </div>
	          </div>
	        </form>
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
	        <button type="button" class="btn btn-primary">OK</button>
	      </div>
	    </div>
	  </div>
	</div>
	<!-- end create Composition modal -->
</body>
<script>
  $(document).ready(function() {
    // matchHeight the contents of each .card-pf and then the .card-pf itself
    // $(".row-cards-pf > [class*='col'] > .card-pf .card-pf-title").matchHeight();
    // $(".row-cards-pf > [class*='col'] > .card-pf > .card-pf-body").matchHeight();
    // $(".row-cards-pf > [class*='col'] > .card-pf > .card-pf-footer").matchHeight();
    // $(".row-cards-pf > [class*='col'] > .card-pf").matchHeight();

    // Initialize the vertical navigation
    $().setupVerticalNavigation(true);

		// Define Recipe
		var modname;

		// Add Module to Recipe
		$(".sidebar-pf-left").on('click', '.action-add-compon', function() {
			modname = $(this).parent().find("[data-item='name'] span").html();
			modsummary = $(this).parents(".card").find("[data-item='summary'] span").html();
			modversion = $(this).parents(".card").find("[data-item='version']").html();
			modrelease = $(this).parents(".card").find("[data-item='release']").html();
			modrequires = $(this).parents(".card").find("[data-item='requires']").html();
			// hide empty state, show list
			$(".blank-slate-pf").addClass("hidden");
			$(".list-view-pf-view").removeClass("hidden");
			// duplicate the hidden list item
			$(".list-group-item.hidden").clone().appendTo(".list-view-pf-view");
			// replace the values in the last list item
			$(".list-view-pf-view .list-group-item.hidden [data-item='name']").append(modname);
			$(".list-view-pf-view .list-group-item.hidden [data-item='summary']").append(modsummary);
			$(".list-view-pf-view .list-group-item.hidden [data-item='version']").append(modversion);
			$(".list-view-pf-view .list-group-item.hidden [data-item='release']").append(modrelease);
			$(".list-view-pf-view .list-group-item.hidden [data-item='requires']").append(modrequires);
			$(".list-view-pf-view .list-group-item.hidden").removeClass("hidden");
		});

		// Remove Module from Recipe
		$(".sidebar-pf-left").on('click', '.action-remove-compon', function() {
			// if this is the only child, then show empty state

			// remove list item
		});

		// Create Composition
		$("#cmpsr-modal-crt-compos .btn-primary").click(function() {
                        var modlist = $('.list-view-pf-view').find("[data-item='name']").toArray().map(m => m.text);
                        var compose_type = $('#cmpsr-composition-types')[0].value;

                        var composePollStatus = function(statusURL) {
                          $.get(composer_api_host+statusURL,
                                function(data) {
                                  if (data['status'] == "compose running") {
                                    setTimeout(composePollStatus, 1000, statusURL);
                                  } else if (data['status'] == "compose finished") {
                                    composeDone(composer_api_host + data['image']);
                                  } else {
                                    composeError();
                                  }
                                });
                        };

                        var composeError = function() {
                          // do something nicer here I guess
                          alert("Compose error");
                          $("#cmpsr-toast-process-compos").addClass("hidden");
                        };

                        var composeDone = function(imageURL) {
                          $("#cmpsr-download-link")[0].href = imageURL;
                          $("#cmpsr-toast-process-compos").addClass("hidden");
                          $("#cmpsr-toast-success-compos").removeClass("hidden");
                        };

			$('#cmpsr-modal-crt-compos').modal('hide');
			$("#cmpsr-toast-process-compos").removeClass("hidden");

                        // do post() the long way so we know if it fails
                        $.ajax({
                          type:     "POST",
                          url:      composer_api_host+"/api/v0/compose",
                          data:     { "module[]": modlist,
                                      "type":     compose_type },
                          success:  function(data, status, xhr) { composePollStatus(xhr.getResponseHeader('Location')); },
                          error:    function(xhr, status, error) { composeError(); }
                        });
		});

    // Initialize the composition type options
    $.getJSON(composer_api_host+'/api/v0/compose/types', function(data) {
      $.each(data, function(type, enabled) {
          var disabled = "";
          if (!enabled) {
              disabled = " disabled ";
          }

          $("#cmpsr-composition-types").append("<option value="+type+disabled+">"+type+"</option>");
    })});
  });
</script>

</html>
