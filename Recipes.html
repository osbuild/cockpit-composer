<!DOCTYPE html>
<html class="layout-pf layout-pf-fixed">

<head>
	<meta charset=“utf-8”>
	<meta http-equiv=“X-UA-Compatible” content=“IE=edge”>
	<meta name=“viewport” content=“width=device-width, initial-scale=1.0”>
	<title>Red Hat Composer</title>
	<!-- PatternFly Styles -->
	<link rel="stylesheet" href="dist/css/rcue.min.css" />
	<link rel="stylesheet" href="dist/css/rcue-additions.min.css" />
		<link rel="stylesheet" href="custom.css" />
	<!-- jQuery -->
	<script src="node_modules/jquery/dist/jquery.js"></script>

	<!-- Bootstrap JS -->
	<script src="node_modules/bootstrap/dist/js/bootstrap.js"></script>

	<!-- C3, D3 - Charting Libraries -->
	<script src="node_modules/c3/c3.min.js"></script>
	<script src="node_modules/d3/d3.min.js"></script>

	<!-- Datatables, jQuery Grid Component -->
	<!-- Note: jquery.dataTables.js must occur in the html source before patternfly*.js.-->
	<script src="node_modules/datatables/media/js/jquery.dataTables.js"></script>
	<script src="node_modules/drmonty-datatables-colvis/js/dataTables.colVis.js"></script>
	<script src="node_modules/datatables.net-colreorder/js/dataTables.colReorder.js"></script>

	<!-- Patternfly Custom Componets -  Sidebar, Popovers and Datatables Customizations -->
	<!-- Note: jquery.dataTables.js must occur in the html source before patternfly*.js.-->
	<script src="node_modules/patternfly/dist/js/patternfly.js"></script>

	<!-- Bootstrap Date Picker -->
	<script src="node_modules/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>

	<!-- Bootstrap Combobox -->
	<script src="node_modules/patternfly-bootstrap-combobox/js/bootstrap-combobox.js"></script>

	<!-- Bootstrap Select -->
	<script src="node_modules/bootstrap-select/dist/js/bootstrap-select.min.js"></script>

	<!-- Bootstrap Tree View -->
	<script src="node_modules/patternfly-bootstrap-treeview/dist/bootstrap-treeview.min.js"></script>

	<!-- Google Code Prettify - Syntax highlighting of code snippets -->
	<script src="node_modules/google-code-prettify/bin/prettify.min.js"></script>

	<!-- MatchHeight - Used to make sure dashboard cards are the same height -->
	<script src="node_modules/jquery-match-height/dist/jquery.matchHeight.js"></script>

  <!-- React -->
  <script src="components/react/react.js"></script>
  <script src="components/react/react-dom.js"></script>
  <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>

<style>
	.text-right strong {float:left;}
</style>

</head>
<body>


<nav class="navbar navbar-pf-vertical">
	  <div class="navbar-header">
	    <button type="button" class="navbar-toggle">
	      <span class="sr-only">Toggle navigation</span>
	      <span class="icon-bar"></span>
	      <span class="icon-bar"></span>
	      <span class="icon-bar"></span>
	    </button>
	    <a href="/" class="navbar-brand">
	      <!-- <img class="navbar-brand-icon" src="/assets/img/logo-alt.svg" alt=""/>--><img class="navbar-brand-name" src="assets/img/RHComposer-logo-header.svg" alt="Red Hat Composer" width="156"/>
	    </a>
	  </div>
	  <nav class="collapse navbar-collapse">
	    <ul class="nav navbar-nav">
	      <li><a href="#" target="_blank" class="nav-item-iconic nav-item-iconic-new-window"><span title="Launch" class="fa fa-external-link"></span></a></li>
	    </ul>
	    <ul class="nav navbar-nav navbar-right navbar-iconic">
	      <li class="dropdown">
	        <a class="dropdown-toggle nav-item-iconic" id="notifications" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
	          <span title="Notifications" class="fa pficon-flag"></span>
	          <span class="badge">1</span>
	        </a>
	        <div class="dropdown-menu infotip bottom-right">
	          <div class="arrow"></div>
	          <ul class="list-group">
	            <li class="list-group-item">
	              <span class="i pficon pficon-ok"></span> Recipe Y: Composition creation is complete.
	            </li>
	          </ul>
	          <div class="footer">
	            <a>Clear Messages</a>
	          </div>
	        </div>
	      </li>
	      <li class="dropdown">
	        <a class="dropdown-toggle nav-item-iconic" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
	          <span title="Help" class="fa pficon-help"></span>
	          <span class="caret"></span>
	        </a>
	        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
	          <li><a href="#">Help</a></li>
	          <li><a href="#">About</a></li>
	        </ul>
	      </li>
	      <li class="dropdown">
	        <a class="dropdown-toggle nav-item-iconic" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
	          <span title="Username" class="fa pficon-user"></span>
	          <span class="caret"></span>
	        </a>
	        <ul class="dropdown-menu" aria-labelledby="dropdownMenu2">
	          <li><a href="#">Preferences</a></li>
	          <li><a href="#">Logout</a></li>
	        </ul>
	      </li>
	    </ul>
	  </nav>
	</nav> <!--/.navbar-->


<div class="nav-pf-vertical
     nav-pf-vertical-with-sub-menus hide-nav-pf">
  <ul class="list-group">
    <li class="list-group-item">
      <a>
        <span class="fa fa-dashboard" data-toggle="tooltip" title="Dashboard"></span>
        <span class="list-group-item-value">Dashboard</span>
      </a>
    </li>
		<li class="list-group-item active">
      <a>
        <span class="fa fa-birthday-cake" data-toggle="tooltip" title="Recipes"></span>
        <span class="list-group-item-value">Recipes</span>
      </a>
    </li>
    <li class="list-group-item">
      <a>
        <span class="fa fa-shield" data-toggle="tooltip" title="Dolor"></span>
        <span class="list-group-item-value">Dolor</span>
      </a>
    </li>
    <li class="list-group-item secondary-nav-item-pf" data-target="#ipsum-secondary">
      <a>
        <span class="fa fa-space-shuttle" data-toggle="tooltip" title="Ipsum"></span>
        <span class="list-group-item-value">Ipsum</span>
      </a>
      <div id="-secondary" class="nav-pf-secondary-nav">
  			<div class="nav-item-pf-header">
    			<a class="secondary-collapse-toggle-pf" data-toggle="collapse-secondary-nav"></a>
    			<span>Ipsum</span>
  			</div>
  			<ul class="list-group">
			    <li class="list-group-item active " data-target="#ipsum-intellegam-tertiary">
			      <a>
			        <span class="list-group-item-value">Intellegam</span>
			      </a>

			    </li>
			    <li class="list-group-item " data-target="#ipsum-copiosae-tertiary">
			      <a>
			        <span class="list-group-item-value">Copiosae</span>
			      </a>

			    </li>
			    <li class="list-group-item " data-target="#ipsum-patrioque-tertiary">
			      <a>
			        <span class="list-group-item-value">Patrioque</span>
			      </a>

			    </li>

			  </ul>
			</div>
    </li>
    <li class="list-group-item secondary-nav-item-pf" data-target="#amet-secondary">
      <a>
        <span class="fa fa-paper-plane" data-toggle="tooltip" title="Amet"></span>
        <span class="list-group-item-value">Amet</span>
      </a>

      <div id="amet-secondary" class="nav-pf-secondary-nav">
			  <div class="nav-item-pf-header">
			    <a class="secondary-collapse-toggle-pf" data-toggle="collapse-secondary-nav"></a>
			    <span>Amet</span>
			  </div>
			  <ul class="list-group">
			    <li class="list-group-item " data-target="#amet-detracto-tertiary">
			      <a>
			        <span class="list-group-item-value">Detracto</span>



			      </a>

			    </li>
			    <li class="list-group-item " data-target="#amet-mediocrem-tertiary">
			      <a>
			        <span class="list-group-item-value">Mediocrem</span>



			      </a>

			    </li>
			    <li class="list-group-item " data-target="#amet-corrumpit-tertiary">
			      <a>
			        <span class="list-group-item-value">Corrumpit</span>



			      </a>

			    </li>

			  </ul>
			</div>
    </li>
    <li class="list-group-item">
      <a>
        <span class="fa fa-graduation-cap" data-toggle="tooltip" title="Adipscing"></span>
        <span class="list-group-item-value">Adipscing</span>
      </a>
    </li>
    <li class="list-group-item">
      <a>
        <span class="fa fa-gamepad" data-toggle="tooltip" title="Lorem"></span>
        <span class="list-group-item-value">Lorem</span>
      </a>
    </li>
  </ul>
</div>
<div  id="compsr-recipe" class="container-fluid container-pf-nav-pf-vertical container-pf-nav-pf-vertical-with-sub-menus   ">

</div>

<script type="text/babel">


// type will be used to determine what icon displays
// these values will be replaced by data retrieved via api call
var COMPONENTS = [
  {
    type: "module",
    name: "fm-group:rpm-development-tools",
    summary: "These tools include core development tools such rpmbuild.",
    version: "24",
    release: "2",
    requires: "0"
  },
  {
    type: "module",
    name: "fm-group:kde-education",
    summary: "KDE Educational applications",
    version: "24",
    release: "1",
    requires: "2"
  },
  {
    type: "module",
    name: "fm-group:xfce-desktop",
    summary: "A lightweight desktop environment that works well on low end machines.",
    version: "24",
    release: "1",
    requires: "0"
  },
  {
    type: "module",
    name: "fm-group:server-cfg",
    summary: "This group contains all of Red Hat's custom server configuration tools.",
    version: "24",
    release: "2",
    requires: "0"
  },
  {
    type: "module",
    name: "fm-group:virtualization-headless",
    summary: "These packages provide a headless virtualization environment.",
    version: "24",
    release: "2",
    requires: "0"
  },
  {
    type: "module",
    name: "fm-group:legacy-software-development",
    summary: "These packages provide compatibility with previous releases.",
    version: "24",
    release: "1",
    requires: "0"
  }

];

var RECIPELIST = {
  recipes: [
    {
      name: "Recipe X",
      version: "1",
      test: "2",
      dev: "0",
      prod: "1"
    },
    {
      name: "Recipe Y",
      version: "3",
      test: "4",
      dev: "2",
      prod: "1"
    }
  ],
  selectedRecipe: null
};

var onBacktoRecipes = function () {
    RECIPELIST.selectedRecipe = null;
    onChange();
};

var onSelectRecipe = function (event) {
    var target = event.currentTarget;
    RECIPELIST.selectedRecipe = $(target).html();
    onChange();
};

var onEditRecipe = function (event) {
    window.location.href='/EditRecipe-angjs.html'
};


// toolbar
var ToolbarMetaOptions = React.createClass({
  render: function() {
    var currentList = this.props.list;
    if (currentList == "recipes") {
      return (
        <ul className="dropdown-menu">
          <li><a href="#">Name</a></li>
          <li><a href="#">Version</a></li>
        </ul>
      );
    } else if (currentList == "components") {
      return (
        <ul className="dropdown-menu">
          <li><a href="#">Type</a></li>
          <li><a href="#">Name</a></li>
          <li><a href="#">Version</a></li>
          <li><a href="#">Release</a></li>
          <li><a href="#">Lifecycle</a></li>
          <li><a href="#">Support Level</a></li>
        </ul>
      );
    }
  }
});

var ToolbarActions = React.createClass({
  render: function() {
    var currentList = this.props.list;
    if (currentList == "recipes") {
      return (
        <div className="form-group">
          <button className="btn btn-default" type="button">Create Recipe</button>
          <div className="dropdown btn-group  dropdown-kebab-pf">
            <button className="btn btn-link dropdown-toggle" type="button" id="dropdownKebab" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
              <span className="fa fa-ellipsis-v"></span>
            </button>
            <ul className="dropdown-menu " aria-labelledby="dropdownKebab">
              <li><a href="#">Import Recipe</a></li>
              <li role="separator" className="divider"></li>
              <li><a href="#">Create Compositions</a></li>
              <li><a href="#">Export Selected Recipes</a></li>
              <li><a href="#">Delete Selected Recipes</a></li>
            </ul>
          </div>
        </div>
      );
    } else if (currentList == "components") {
      return (
        <div className="form-group">
          <button className="btn btn-default" type="button" onClick={onEditRecipe}>Edit Recipe</button>
          <button className="btn btn-default" type="button" data-recipe={this.props.selectedRecipe}>Create Composition</button>
          <div className="dropdown btn-group  dropdown-kebab-pf">
            <button className="btn btn-link dropdown-toggle" type="button" id="dropdownKebab" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
              <span className="fa fa-ellipsis-v"></span>
            </button>
            <ul className="dropdown-menu " aria-labelledby="dropdownKebab">
              <li><a href="#">Update All Components</a></li>
              <li><a href="#">Export Recipe</a></li>
              <li><a href="#">Delete Recipe</a></li>
            </ul>
          </div>
        </div>
      );
    }
  }
});

var ToolbarFilter = React.createClass({
  render: function() {
      return (
        <div className="form-group toolbar-pf-filter">
          <label className="sr-only" htmlFor="filter">Name</label>
          <div className="input-group">
            <div className="input-group-btn">
              <button type="button" className="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Name <span className="caret"></span></button>
              <ToolbarMetaOptions list={this.props.list}/>
            </div>
            <input type="text" className="form-control" id="filter" placeholder="Filter By Name..." />
          </div>
        </div>
    );
  }
});

var Toolbar = React.createClass({
  render: function() {
    return (
    			<div className="row toolbar-pf">
              <div className="col-sm-12">
                <form className="toolbar-pf-actions">
                  <ToolbarFilter list={this.props.list}/>
                  <div className="form-group">
                    <div className="dropdown btn-group">
                      <button type="button" className="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Name <span className="caret"></span></button>
                      <ToolbarMetaOptions list={this.props.list}/>
                    </div>
                    <button className="btn btn-link" type="button">
                      <span className="fa fa-sort-alpha-asc"></span>
                    </button>
                  </div>
                  <ToolbarActions list={this.props.list} selectedRecipe={this.props.selectedRecipe} />
                  <div className="toolbar-pf-action-right">
                    <div className="form-group toolbar-pf-find">
                      <button className="btn btn-link btn-find" type="button">
                        <span className="fa fa-search"></span>
                      </button>
                      <div className="find-pf-dropdown-container">
                        <input type="text" className="form-control" id="find" placeholder="Find By Keyword..." />
                        <div className="find-pf-buttons">
                          <span className="find-pf-nums">1 of 3</span>
                          <button className="btn btn-link" type="button">
                            <span className="fa fa-angle-up"></span>
                          </button>
                          <button className="btn btn-link" type="button">
                            <span className="fa fa-angle-down"></span>
                          </button>
                          <button className="btn btn-link btn-find-close" type="button">
                            <span className="pficon pficon-close"></span>
                          </button>
                        </div>
                      </div>
                    </div>
                    <div className="form-group toolbar-pf-view-selector">
                      <button className="btn btn-link" title="Table View"><i className="fa fa-th"></i></button>
                      <button className="btn btn-link " title="Tree View"><i className="pficon pficon-topology"></i></button>
                      <button className="btn btn-link active" title="List View"><i className="fa fa-th-list"></i></button>
                    </div>
                  </div>
                </form>
                <div className="row toolbar-pf-results toolbar-pf-results-none">
                  <div className="col-sm-12">
                    <h5>40 Results</h5>
                    <p>Active filters:</p>
                    <ul className="list-inline">
                      <li>
                        <span className="label label-info">
                          Name: nameofthething
                          <a href="#"><span className="pficon pficon-close"></span></a>
                        </span>
                      </li>
                      <li>
                        <span className="label label-info">
                          Version: 3
                          <a href="#"><span className="pficon pficon-close"></span></a>
                        </span>
                      </li>
                      <li>
                        <span className="label label-info">
                          Lifecycle: 5
                          <a href="#"><span className="pficon pficon-close"></span></a>
                        </span>
                      </li>
                    </ul>
                    <p><a href="#">Clear All Filters</a></p>
                  </div>
                </div>
              </div>
          </div>
    );
  }
});

// Component list when viewing a recipe

var ComponentRow = React.createClass({
  render: function() {
    return (
      <div className="list-group-item">
			    <div className="list-view-pf-checkbox">
			      <input type="checkbox" />
			    </div>
					<div className="list-view-pf-actions">
			      <div className="dropdown pull-right dropdown-kebab-pf">
						  <button className="btn btn-link dropdown-toggle" type="button" id="dropdownKebabRight9" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
						    <span className="fa fa-ellipsis-v"></span>
						  </button>
						  <ul className="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownKebabRight9">
								<li><a href="#">View</a></li>
						    <li><a href="#">Update</a></li>
						    <li role="separator" className="divider"></li>
						    <li><a href="#">Remove</a></li>
						  </ul>
						</div>

			    </div>
			    <div className="list-view-pf-main-info">
			      <div className="list-view-pf-left">
			        <span className="fa fa-cube list-view-pf-icon-sm" title="Module"></span>
			      </div>
			      <div className="list-view-pf-body">
			        <div className="list-view-pf-description">
			          <div className="list-group-item-heading">
			            <a href="#">{this.props.component.name}</a>
			          </div>
			          <div className="list-group-item-text">
			            {this.props.component.summary}
			          </div>
			        </div>
							<div className="list-view-pf-additional-info">
			          <div className="list-view-pf-additional-info-item list-view-pf-additional-info-item-stacked">
			            Version <strong>{this.props.component.version}</strong>
			          </div>
			          <div className="list-view-pf-additional-info-item list-view-pf-additional-info-item-stacked">
			            Lifecycle<strong>{this.props.component.release}</strong>
			          </div>
								<div className="list-view-pf-additional-info-item list-view-pf-additional-info-item-stacked" data-toggle="popover" data-html="true" title="" data-content="Module Three" data-close="true" data-original-title="Dependencies">
			            Dependencies<strong>{this.props.component.requires}</strong>
			          </div>
			        </div>
			      </div>
			    </div>
			  </div>
    );
  }
});

var ComponentList = React.createClass({
  render: function() {
    var rows = [];
    // var lastType = null;
    this.props.components.forEach(function(component) {
      // if (component.type !== lastType) {
      //   rows.push(<ComponentTypeRow type={component.type} key={component.type} />);
      // }
      rows.push(<ComponentRow component={component} key={component.name} />);
      // lastType = component.type;
    });
    return (
      <div id="compsr-listgroup-recipe" className="list-group list-view-pf list-view-pf-view">
        {rows}
			</div>
    );
  }
});

var FilterableComponentList = React.createClass({
  // getInitialState: function() {
  //   return {data: []};
  // },
  // componentDidMount: function() {
  //   // the following code would be used to retrieve the list of modules, along with this replace the componentlist:
  //   // <ComponentList components={this.state.data} />
  //   $.ajax({
  //     url: composer_api_host+"/api/v0/module/list",
  //     dataType: 'json',
  //     cache: false,
  //     success: function(data) {
  //       this.setState({data: data});
  //     }.bind(this)
  //     // ,
  //     // error: function(xhr, status, err) {
  //     //   console.error(this.props.url, status, err.toString());
  //     // }.bind(this)
  //   });
  // },
  render: function() {
    var list = "components"
    return (
      <div className="row">
        <div className="col-md-12">
          <ol className="breadcrumb">
            <li>
              <a href="#" onClick={this.props.onBacktoRecipes}>Back to Recipes</a>
            </li>
            <li className="active">
              <a href="#"><strong>{this.props.selectedRecipe}</strong></a>
            </li>
          </ol>
          <h1>{this.props.selectedRecipe}</h1>
          <ul className="nav nav-tabs">
            <li><a href="#">Details</a></li>
            <li className="active"><a href="#">Components</a></li>
          </ul>
          <Toolbar list={list} selectedRecipe={this.props.selectedRecipe} />

          <ComponentList components={this.props.components} />
        </div>
      </div>
    );
  }
});

// recipe list

var RecipeRow = React.createClass({
  render: function() {
    var recipeName = this.props.recipe.name;
    return (
      <div className="list-group-item">
			    <div className="list-view-pf-checkbox">
			      <input type="checkbox" />
			    </div>
					<div className="list-view-pf-actions">
            <button className="btn btn-default" onClick={onEditRecipe}>Edit Recipe</button>
            <button className="btn btn-default">Create Composition</button>
			      <div className="dropdown pull-right dropdown-kebab-pf">
						  <button className="btn btn-link dropdown-toggle" type="button" id="dropdownKebabRight9" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
						    <span className="fa fa-ellipsis-v"></span>
						  </button>
						  <ul className="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownKebabRight9">
                <li><a href="#">Export</a></li>
                <li><a href="#">Delete</a></li>
						  </ul>
						</div>

			    </div>
			    <div className="list-view-pf-main-info">
			      <div className="list-view-pf-left">
			        <span className="fa fa-cube list-view-pf-icon-sm" title="Module"></span>
			      </div>
			      <div className="list-view-pf-body">
			        <div className="list-view-pf-description">
			          <div className="list-group-item-heading">
			            <a href="#" onClick={onSelectRecipe}>{recipeName}</a>
			          </div>
			          <div className="list-group-item-text">
			            Recipe description lorem ipsum dolor sit amet.
			          </div>
			        </div>
							<div className="list-view-pf-additional-info">
			          <div className="list-view-pf-additional-info-item list-view-pf-additional-info-item-stacked">
			            Version <strong>{this.props.recipe.version}</strong>
			          </div>
			          <div className="list-view-pf-additional-info-item list-view-pf-additional-info-item-stacked">
			            Test<strong>{this.props.recipe.test}</strong>
			          </div>
								<div className="list-view-pf-additional-info-item list-view-pf-additional-info-item-stacked">
			            Development<strong>{this.props.recipe.dev}</strong>
			          </div>
                <div className="list-view-pf-additional-info-item list-view-pf-additional-info-item-stacked">
			            Production<strong>{this.props.recipe.prod}</strong>
			          </div>
			        </div>
			      </div>
			    </div>
			  </div>
    );
  }
});

var RecipeList = React.createClass({
  render: function() {
    var rows = [];
    this.props.recipes.forEach(function(recipe) {
      rows.push(<RecipeRow recipe={recipe} key={recipe.name} />);
    });
    return (
      <div id="compsr-listgroup-recipes" className="list-group list-view-pf list-view-pf-view">
        {rows}
			</div>
    );
  }
});

var FilterableRecipeList = React.createClass({
  render: function() {
    var list = "recipes";
    var selectedRecipe;
    return (
      <div className="row">
        <div className="col-md-12">
          <Toolbar list={list} selectedRecipe={selectedRecipe} />
          <RecipeList recipes={this.props.recipes} />
        </div>
      </div>
    );
  }
});

var RecipeApp = React.createClass({
  // if selected recipe is null, display the recipe list
  // else display the component list
  render: function() {
    var selectedRecipe = this.props.recipelist.selectedRecipe;
    var recipes = this.props.recipelist.recipes
    if (selectedRecipe == null) {
      return (
        <FilterableRecipeList recipes={recipes} />
      );
    } else {
      return (
        <FilterableComponentList components={COMPONENTS} selectedRecipe={selectedRecipe} onBacktoRecipes={onBacktoRecipes} />
      );
    }
  }
});

//update contents on page
var onChange = function () {
    ReactDOM.render(
        <RecipeApp recipelist={RECIPELIST} />,
        document.getElementById('compsr-recipe')
    );
};

onChange();

</script>
</body>
